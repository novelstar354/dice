<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>カスタマイズサイコロ</title>
<style>
  body {
    font-family: sans-serif;
    text-align: center;
    padding: 50px;
    background-color: #f0f0f0;
  }
  #dice {
    width: 100px;
    height: 100px;
    margin: 20px auto;
    transition: transform 0.5s ease;
  }
  button {
    font-size: 18px;
    padding: 10px 20px;
    margin: 5px;
    cursor: pointer;
  }
  label {
    font-size: 16px;
  }
</style>
</head>
<body>

<h1>サイコロを振ろう！</h1>

<img id="dice" src="dice1.png" alt="サイコロ">

<p>
  <button onclick="rollDice()">振る</button>
</p>

<p id="result"></p>

<h3>カスタマイズ</h3>
<label>サイコロ素材:
  <select id="diceMaterial" onchange="changeMaterial()">
    <option value="dice1.png">クラシック</option>
    <option value="dice2.png">木目</option>
    <option value="dice3.png">金属</option>
  </select>
</label>
<br>
<label>サイコロ音:
  <select id="diceSound">
    <option value="dice_roll1.mp3">カチカチ</option>
    <option value="dice_roll2.mp3">ゴロゴロ</option>
    <option value="dice_roll3.mp3">ドン</option>
  </select>
</label>

<script>
let currentMaterial = "dice1.png";

function changeMaterial() {
    const select = document.getElementById("diceMaterial");
    currentMaterial = select.value;
    document.getElementById("dice").src = currentMaterial.replace("1", "1"); // 初期目を1に
}

function rollDice() {
    const dice = document.getElementById("dice");
    const resultText = document.getElementById("result");
    
    // 音を再生
    const soundSelect = document.getElementById("diceSound");
    const audio = new Audio(soundSelect.value);
    audio.play();
    
    // 1〜6のランダム
    const roll = Math.floor(Math.random() * 6) + 1;
    
    // 回転アニメーション
    dice.style.transform = "rotateX(" + (Math.random()*720) + "deg) rotateY(" + (Math.random()*720) + "deg)";
    
    // 結果を表示
    setTimeout(() => {
        // 選んだ素材で目を変更（dice1.png〜dice6.png が必要）
        const base = currentMaterial.replace(/[1-6]\.png/, ''); // 画像のベース名
        dice.src = base + roll + ".png";
        resultText.textContent = "出た目は " + roll + "！";
    }, 500);
}
</script>

</body>
</html>
